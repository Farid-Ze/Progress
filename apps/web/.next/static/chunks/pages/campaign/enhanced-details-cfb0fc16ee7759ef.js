(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[909],{8972:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaign/enhanced-details",function(){return n(3084)}])},3084:function(e,a,n){"use strict";n.r(a);var i=n(2322),s=n(2784),t=n(5632),r=n(2913),l=n(825),c=n(7186),o=n(995),d=n(870),h=n(7296),x=n(5512),g=n(3277),u=n(2459),j=n(7966),m=n(2363),p=n(4092),k=n(8226),f=n(962),b=n(2202),y=n(4230),D=n(7231),z=n(4630),S=n(9770),w=n(165),C=n(9813),U=n(3375),v=n(4236),N=n(3523),I=n(2479),_=n(7447),E=n(1466),W=n(4598),O=n(676),R=n(3718),q=n(4052),A=n(9653),P=n(1908),B=n(947),L=n(5913);a.default=()=>{let e=(0,t.useRouter)(),{slug:a}=e.query,n=(0,r.p)(),{isOpen:M,onOpen:T,onClose:K}=(0,l.q)(),{isOpen:Z,onOpen:G,onClose:H}=(0,l.q)(),[X,F]=(0,s.useState)(null),[Y,J]=(0,s.useState)(!0),[V,Q]=(0,s.useState)(0),[$,ee]=(0,s.useState)(""),[ea,en]=(0,s.useState)(""),[ei,es]=(0,s.useState)(!1);(0,s.useEffect)(()=>{a&&fetchCampaignDetails()},[a]);let fetchCampaignDetails=async()=>{try{J(!0),setTimeout(()=>{F({id:"1",title:"Membangun Perpustakaan Digital untuk Anak Desa",description:"Kampanye untuk membangun perpustakaan digital modern yang akan membantu anak-anak desa mengakses pendidikan berkualitas melalui teknologi.",goal:5e7,raised:325e5,imageUrl:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",category:"Pendidikan",location:"Desa Sukamaju, Jawa Barat",endDate:"2024-06-30",organizerId:"org1",organizerName:"Yayasan Pendidikan Nusantara",organizerAvatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=80",supporters:245,updates:[{id:"1",title:"Progres Pembangunan Minggu Ke-2",content:"Alhamdulillah, konstruksi ruang perpustakaan telah mencapai 60%. Tim konstruksi bekerja dengan sangat baik.",date:"2024-03-15",imageUrl:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"}],comments:[{id:"1",authorName:"Ahmad Rizki",authorAvatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=80",content:"Semangat untuk proyeknya! Semoga bermanfaat untuk anak-anak desa.",date:"2024-03-14",amount:5e5}]}),J(!1)},1e3)}catch(e){console.error("Error fetching campaign:",e),n({title:"Error",description:"Gagal memuat detail kampanye",status:"error",duration:3e3,isClosable:!0}),J(!1)}},handleDonate=async()=>{if(!V||V<=0){n({title:"Error",description:"Masukkan jumlah donasi yang valid",status:"error",duration:3e3,isClosable:!0});return}try{n({title:"Donasi Berhasil!",description:"Terima kasih atas donasi Rp ".concat(V.toLocaleString("id-ID")),status:"success",duration:5e3,isClosable:!0}),K(),fetchCampaignDetails()}catch(e){n({title:"Error",description:"Gagal memproses donasi",status:"error",duration:3e3,isClosable:!0})}};if(Y)return(0,i.jsx)(c.W,{maxW:"6xl",py:8,children:(0,i.jsx)(o.x,{children:"Loading..."})});if(!X)return(0,i.jsx)(c.W,{maxW:"6xl",py:8,children:(0,i.jsx)(o.x,{children:"Kampanye tidak ditemukan"})});let et=X.raised/X.goal*100;return(0,i.jsxs)(c.W,{maxW:"6xl",py:8,children:[(0,i.jsxs)(d.M,{columns:{base:1,lg:3},spacing:8,children:[(0,i.jsx)(h.x,{gridColumn:{lg:"span 2"},children:(0,i.jsxs)(x.g,{spacing:6,align:"stretch",children:[(0,i.jsx)(h.x,{children:(0,i.jsx)(g.E,{src:X.imageUrl,alt:X.title,w:"full",h:"400px",objectFit:"cover",borderRadius:"lg"})}),(0,i.jsxs)(x.g,{spacing:4,align:"stretch",children:[(0,i.jsxs)(u.U,{justify:"space-between",children:[(0,i.jsx)(j.C,{colorScheme:"blue",fontSize:"sm",children:X.category}),(0,i.jsxs)(u.U,{children:[(0,i.jsx)(m.z,{variant:"outline",size:"sm",children:"Favorit"}),(0,i.jsx)(m.z,{variant:"outline",size:"sm",onClick:G,children:"Bagikan"})]})]}),(0,i.jsx)(p.X,{size:"xl",children:X.title}),(0,i.jsxs)(u.U,{spacing:4,color:"gray.600",children:[(0,i.jsx)(u.U,{children:(0,i.jsx)(o.x,{fontSize:"sm",children:X.location})}),(0,i.jsx)(u.U,{children:(0,i.jsxs)(o.x,{fontSize:"sm",children:["Berakhir: ",new Date(X.endDate).toLocaleDateString("id-ID")]})})]}),(0,i.jsx)(o.x,{fontSize:"lg",color:"gray.700",children:X.description})]}),(0,i.jsxs)(k.m,{children:[(0,i.jsxs)(f.t,{children:[(0,i.jsx)(b.O,{children:"Cerita"}),(0,i.jsxs)(b.O,{children:["Update (",X.updates.length,")"]}),(0,i.jsxs)(b.O,{children:["Komentar (",X.comments.length,")"]})]}),(0,i.jsxs)(y.n,{children:[(0,i.jsx)(D.x,{children:(0,i.jsx)(o.x,{children:"Ini adalah cerita lengkap tentang kampanye pembangunan perpustakaan digital. Kami membutuhkan dukungan dari semua pihak untuk mewujudkan mimpi anak-anak desa mendapatkan akses pendidikan yang berkualitas."})}),(0,i.jsx)(D.x,{children:(0,i.jsx)(x.g,{spacing:4,align:"stretch",children:X.updates.map(e=>(0,i.jsx)(z.Z,{children:(0,i.jsx)(S.e,{children:(0,i.jsxs)(x.g,{spacing:3,align:"stretch",children:[(0,i.jsxs)(u.U,{justify:"space-between",children:[(0,i.jsx)(p.X,{size:"md",children:e.title}),(0,i.jsx)(o.x,{fontSize:"sm",color:"gray.500",children:new Date(e.date).toLocaleDateString("id-ID")})]}),(0,i.jsx)(o.x,{children:e.content}),e.imageUrl&&(0,i.jsx)(g.E,{src:e.imageUrl,alt:"Update",borderRadius:"md"})]})})},e.id))})}),(0,i.jsx)(D.x,{children:(0,i.jsx)(x.g,{spacing:4,align:"stretch",children:X.comments.map(e=>(0,i.jsx)(z.Z,{children:(0,i.jsx)(S.e,{children:(0,i.jsxs)(u.U,{spacing:3,align:"start",children:[(0,i.jsx)(w.q,{src:e.authorAvatar,name:e.authorName,size:"sm"}),(0,i.jsxs)(x.g,{spacing:2,align:"stretch",flex:1,children:[(0,i.jsxs)(u.U,{justify:"space-between",children:[(0,i.jsx)(o.x,{fontWeight:"bold",children:e.authorName}),(0,i.jsxs)(u.U,{children:[e.amount&&(0,i.jsx)(C.Vp,{colorScheme:"green",size:"sm",children:(0,i.jsxs)(C.Sn,{children:["Rp ",e.amount.toLocaleString("id-ID")]})}),(0,i.jsx)(o.x,{fontSize:"sm",color:"gray.500",children:new Date(e.date).toLocaleDateString("id-ID")})]})]}),(0,i.jsx)(o.x,{children:e.content})]})]})})},e.id))})})]})]})]})}),(0,i.jsx)(h.x,{children:(0,i.jsx)(z.Z,{position:"sticky",top:"20px",children:(0,i.jsx)(S.e,{children:(0,i.jsxs)(x.g,{spacing:4,align:"stretch",children:[(0,i.jsxs)(h.x,{children:[(0,i.jsxs)(o.x,{fontSize:"2xl",fontWeight:"bold",color:"green.500",children:["Rp ",X.raised.toLocaleString("id-ID")]}),(0,i.jsxs)(o.x,{color:"gray.600",children:["dari target Rp ",X.goal.toLocaleString("id-ID")]}),(0,i.jsx)(U.E,{value:et,colorScheme:"green",size:"lg",mt:2}),(0,i.jsxs)(o.x,{fontSize:"sm",color:"gray.500",mt:1,children:[et.toFixed(1),"% tercapai"]})]}),(0,i.jsx)(v.i,{}),(0,i.jsxs)(x.g,{spacing:2,align:"stretch",children:[(0,i.jsxs)(u.U,{justify:"space-between",children:[(0,i.jsx)(u.U,{children:(0,i.jsx)(o.x,{fontWeight:"bold",children:X.supporters})}),(0,i.jsx)(o.x,{fontSize:"sm",color:"gray.600",children:"Pendukung"})]}),(0,i.jsxs)(u.U,{justify:"space-between",children:[(0,i.jsx)(u.U,{children:(0,i.jsx)(o.x,{fontWeight:"bold",children:Math.ceil((new Date(X.endDate).getTime()-new Date().getTime())/864e5)})}),(0,i.jsx)(o.x,{fontSize:"sm",color:"gray.600",children:"Hari tersisa"})]})]}),(0,i.jsx)(v.i,{}),(0,i.jsx)(x.g,{spacing:3,align:"stretch",children:(0,i.jsxs)(u.U,{children:[(0,i.jsx)(w.q,{src:X.organizerAvatar,name:X.organizerName,size:"sm"}),(0,i.jsxs)(x.g,{spacing:0,align:"start",flex:1,children:[(0,i.jsx)(o.x,{fontSize:"sm",fontWeight:"bold",children:X.organizerName}),(0,i.jsx)(o.x,{fontSize:"xs",color:"gray.500",children:"Penyelenggara"})]})]})}),(0,i.jsx)(m.z,{colorScheme:"green",size:"lg",onClick:T,children:"Donasi Sekarang"})]})})})})]}),(0,i.jsxs)(N.u_,{isOpen:M,onClose:K,size:"lg",children:[(0,i.jsx)(I.Z,{}),(0,i.jsxs)(_.h,{children:[(0,i.jsxs)(E.x,{children:["Donasi untuk ",X.title]}),(0,i.jsx)(W.o,{}),(0,i.jsx)(O.f,{children:(0,i.jsxs)(x.g,{spacing:4,align:"stretch",children:[(0,i.jsxs)(R.NI,{isRequired:!0,children:[(0,i.jsx)(q.l,{children:"Jumlah Donasi (Rp)"}),(0,i.jsx)(A.Y2,{value:V,onChange:(e,a)=>Q(a),min:1e4,children:(0,i.jsx)(A.zu,{})})]}),(0,i.jsxs)(R.NI,{children:[(0,i.jsx)(q.l,{children:"Nama Anda"}),(0,i.jsx)(P.I,{value:$,onChange:e=>ee(e.target.value),placeholder:"Masukkan nama (opsional)"})]}),(0,i.jsxs)(R.NI,{children:[(0,i.jsx)(q.l,{children:"Pesan Dukungan"}),(0,i.jsx)(B.g,{value:ea,onChange:e=>en(e.target.value),placeholder:"Tulis pesan dukungan (opsional)",rows:3})]})]})}),(0,i.jsxs)(L.m,{children:[(0,i.jsx)(m.z,{variant:"ghost",mr:3,onClick:K,children:"Batal"}),(0,i.jsxs)(m.z,{colorScheme:"green",onClick:handleDonate,children:["Donasi Rp ",V.toLocaleString("id-ID")]})]})]})]}),(0,i.jsxs)(N.u_,{isOpen:Z,onClose:H,children:[(0,i.jsx)(I.Z,{}),(0,i.jsxs)(_.h,{children:[(0,i.jsx)(E.x,{children:"Bagikan Kampanye"}),(0,i.jsx)(W.o,{}),(0,i.jsx)(O.f,{children:(0,i.jsx)(o.x,{children:"Bagikan kampanye ini untuk mendukung pencapaian target donasi."})}),(0,i.jsx)(L.m,{children:(0,i.jsx)(m.z,{onClick:H,children:"Tutup"})})]})]})]})}}},function(e){e.O(0,[216,888,179],function(){return e(e.s=8972)}),_N_E=e.O()}]);